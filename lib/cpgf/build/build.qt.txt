set(TARGET_SAMPLEQT sampleqt)

set(OUTNAME_SAMPLEQT sampleqt)

set(SAMPLE_ROOT ${ROOT_PATH}/samples)
set(SAMPLE_BIND_PATH ${SAMPLE_ROOT}/scriptbind)


set(SAMPLE_COMPILE_FLAGS " ")
if(CMAKE_COMPILER_IS_GNUCC)
	set(SAMPLE_COMPILE_FLAGS "-Wall -Wextra -Wundef -O3 -fPIC")

	if(SUPPORT_GCC_0X)
		if(MINGW)
			set(SAMPLE_COMPILE_FLAGS "${SAMPLE_COMPILE_FLAGS} -std=gnu++0x")
		endif(MINGW)

		if(NOT MINGW)
			set(SAMPLE_COMPILE_FLAGS "${SAMPLE_COMPILE_FLAGS} -std=c++0x")
		endif(NOT MINGW)
	endif(SUPPORT_GCC_0X)

endif(CMAKE_COMPILER_IS_GNUCC)



file(GLOB GLOB_SAMPLEQT ${SAMPLE_ROOT}/qtCore/*.cpp)
file(GLOB GLOB_METAQTCORE ${SRC_PATH}/../tools/metagen/qt5/build/QtCore/src/*.cpp)
set(SRC_SAMPLEQT
    ${GLOB_SAMPLEQT}
    
    ${SAMPLE_ROOT}/samplescriptbindutil.cpp

    ${GLOB_METAQTCORE}
)

add_executable(
    ${TARGET_SAMPLEQT}
    EXCLUDE_FROM_ALL
        ${SRC_SAMPLEQT}
)

include_directories(
    /home/sarunas/bin/Qt5.0.1/5.0.1/gcc_64/include/
    /home/sarunas/priv/dev/qtjs-generator/lib/cpgf/tools/metagen/qt5/build/QtCore/include
)

set_target_properties(
    ${TARGET_SAMPLEQT}
    PROPERTIES
    OUTPUT_NAME ${OUTNAME_SAMPLEQT}
    COMPILE_FLAGS ${SAMPLE_COMPILE_FLAGS}
)

add_definitions(-DFREEGLUT_EXPORTS)

FIND_LIBRARY(QTCORE_LIBRARY Qt5Core /home/sarunas/bin/Qt5.0.1/5.0.1/gcc_64/lib/)
FIND_LIBRARY(QTV8_LIBRARY Qt5V8 /home/sarunas/bin/Qt5.0.1/5.0.1/gcc_64/lib/)

target_link_libraries(${TARGET_SAMPLEQT} ${TARGET_LIB} ${QTCORE_LIBRARY} ${QTV8_LIBRARY})


